
<title>Client-side Flow Example</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.2/jquery.min.js" type="text/javascript"></script>
</head>
<body>
<div id="fb-root"></div>
<p id="connect">
  <a href="#">Connect to FB!</a>
</p>
<p id="results" />
<script>
 $('a').click(function(e) {
  e.preventDefault();
  window.fetch('https://www.facebook.com/v10.0/dialog/oauth?client_id=<%= ENV['FACEBOOK_APP_ID'] %>&redirect_uri=<%= ENV['BASE_URL'] %>/api/v1/facebook/callback&state=1234', {
      headers: { 
        'Content-Type': 'application/json',
        'Accept': 'application/json'
       }})
  .then(response => {
    console.log(response)
    return response.json()
  })
  .then(data => console.log(data));
});
</script>
